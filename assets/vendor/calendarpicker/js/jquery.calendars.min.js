!function(r){"use strict";function a(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function e(a,t,n,e){if(this._calendar=a,this._year=t,this._month=n,this._day=e,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function t(a,t){return"000000".substring(0,t-(a=""+a).length)+a}function n(){this.shortYearCutoff="+10"}function i(a){this.local=this.regionalOptions[a]||this.regionalOptions[""]}r.extend(a.prototype,{instance:function(a,t){a=(a||"gregorian").toLowerCase(),t=t||"";var n=this._localCals[a+"-"+t];if(!n&&this.calendars[a]&&(n=new this.calendars[a](t),this._localCals[a+"-"+t]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,a);return n},newDate:function(a,t,n,e,i){return(e=(null!=a&&a.year?a.calendar():"string"==typeof e?this.instance(e,i):e)||this.instance()).newDate(a,t,n)},substituteDigits:function(t){return function(a){return(a+"").replace(/[0-9]/g,function(a){return t[a]})}},substituteChineseDigits:function(i,r){return function(a){for(var t="",n=0;0<a;){var e=a%10,t=(0==e?"":i[e]+r[n])+t;n++,a=Math.floor(a/10)}return 0===t.indexOf(i[1]+r[1])&&(t=t.substr(1)),t||i[0]}}}),r.extend(e.prototype,{newDate:function(a,t,n){return this._calendar.newDate(null==a?this:a,t,n)},year:function(a){return 0===arguments.length?this._year:this.set(a,"y")},month:function(a){return 0===arguments.length?this._month:this.set(a,"m")},day:function(a){return 0===arguments.length?this._day:this.set(a,"d")},date:function(a,t,n){if(!this._calendar.isValid(a,t,n))throw(r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=a,this._month=t,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(a,t){return this._calendar.add(this,a,t)},set:function(a,t){return this._calendar.set(this,a,t)},compareTo:function(a){if(this._calendar.name!==a._calendar.name)throw(r.calendars.local.differentCalendars||r.calendars.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,a._calendar.local.name);a=this._year!==a._year?this._year-a._year:this._month!==a._month?this.monthOfYear()-a.monthOfYear():this._day-a._day;return 0==a?0:a<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(a){return this._calendar.fromJD(a)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(a){return this._calendar.fromJSDate(a)},toString:function(){return(this.year()<0?"-":"")+t(Math.abs(this.year()),4)+"-"+t(this.month(),2)+"-"+t(this.day(),2)}}),r.extend(n.prototype,{_validateLevel:0,newDate:function(a,t,n){return null==a?this.today():(a.year&&(this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate),n=a.day(),t=a.month(),a=a.year()),new e(this,a,t,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(a){return this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidYear||r.calendars.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(a){a=this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidYear||r.calendars.regionalOptions[""].invalidYear);return(a.year()<0?"-":"")+t(Math.abs(a.year()),4)},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidYear||r.calendars.regionalOptions[""].invalidYear),12},monthOfYear:function(a,t){t=this._validate(a,t,this.minDay,r.calendars.local.invalidMonth||r.calendars.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(a,t){t=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(a)+this.minMonth;return this._validate(a,t,this.minDay,r.calendars.local.invalidMonth||r.calendars.regionalOptions[""].invalidMonth),t},daysInYear:function(a){a=this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidYear||r.calendars.regionalOptions[""].invalidYear);return this.leapYear(a)?366:365},dayOfYear:function(a,t,n){n=this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(a,t,n){n=this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(a,t,n){return this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate),{}},add:function(a,t,n){return this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate),this._correctAdd(a,this._add(a,t,n),t,n)},_add:function(a,t,n){if(this._validateLevel++,"d"===n||"w"===n){var e=a.toJD()+t*("w"===n?this.daysInWeek():1),i=a.calendar().fromJD(e);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var r=a.year()+("y"===n?t:0),s=a.monthOfYear()+("m"===n?t:0);i=a.day();"y"===n?(a.month()!==this.fromMonthOfYear(r,s)&&(s=this.newDate(r,a.month(),this.minDay).monthOfYear()),s=Math.min(s,this.monthsInYear(r)),i=Math.min(i,this.daysInMonth(r,this.fromMonthOfYear(r,s)))):"m"===n&&(function(a){for(;s<a.minMonth;)r--,s+=a.monthsInYear(r);for(var t=a.monthsInYear(r);s>t-1+a.minMonth;)r++,s-=t,t=a.monthsInYear(r)}(this),i=Math.min(i,this.daysInMonth(r,this.fromMonthOfYear(r,s))));var o=[r,this.fromMonthOfYear(r,s),i];return this._validateLevel--,o}catch(a){throw this._validateLevel--,a}},_correctAdd:function(a,t,n,e){var i;return this.hasYearZero||"y"!==e&&"m"!==e||0!==t[0]&&0<a.year()==0<t[0]||(i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[e],e=n<0?-1:1,t=this._add(a,n*i[0]+e*i[1],i[2])),a.date(t[0],t[1],t[2])},set:function(a,t,n){this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate);var e="y"===n?t:a.year(),i="m"===n?t:a.month(),t="d"===n?t:a.day();return"y"!==n&&"m"!==n||(t=Math.min(t,this.daysInMonth(e,i))),a.date(e,i,t)},isValid:function(a,t,n){this._validateLevel++;var e=this.hasYearZero||0!==a;return e&&(a=this.newDate(a,t,this.minDay),e=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(a)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(a)),this._validateLevel--,e},toJSDate:function(a,t,n){n=this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate);return r.calendars.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(a){return this.fromJD(r.calendars.instance().fromJSDate(a).toJD())},_validate:function(a,t,n,e){if(a.year){if(0===this._validateLevel&&this.name!==a.calendar().name)throw(r.calendars.local.differentCalendars||r.calendars.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,a.calendar().local.name);return a}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(a,t,n))throw e.replace(/\{0\}/,this.local.name);var i=this.newDate(a,t,n);return this._validateLevel--,i}catch(a){throw this._validateLevel--,a}}}),i.prototype=new n,r.extend(i.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,r.calendars.local.invalidYear||r.calendars.regionalOptions[""].invalidYear);return(a=t.year()+(t.year()<0?1:0))%4==0&&(a%100!=0||a%400==0)},weekOfYear:function(a,t,n){n=this.newDate(a,t,n);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(a,t){t=this._validate(a,t,this.minDay,r.calendars.local.invalidMonth||r.calendars.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(2===t.month()&&this.leapYear(t.year())?1:0)},weekDay:function(a,t,n){return(this.dayOfWeek(a,t,n)||7)<6},toJD:function(a,t,n){var e=this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate);a=e.year(),t=e.month(),n=e.day(),a<0&&a++,t<3&&(t+=12,a--);e=Math.floor(a/100),e=2-e+Math.floor(e/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+e-1524.5},fromJD:function(a){var t=Math.floor(a+.5),n=Math.floor((t-1867216.25)/36524.25),e=1524+(n=t+1+n-Math.floor(n/4)),a=Math.floor((e-122.1)/365.25),t=Math.floor(365.25*a),n=Math.floor((e-t)/30.6001),t=e-t-Math.floor(30.6001*n),n=n-(13.5<n?13:1),a=a-(2.5<n?4716:4715);return a<=0&&a--,this.newDate(a,n,t)},toJSDate:function(a,t,n){n=this._validate(a,t,n,r.calendars.local.invalidDate||r.calendars.regionalOptions[""].invalidDate),n=new Date(n.year(),n.month()-1,n.day());return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.setHours(12<n.getHours()?n.getHours()+2:0),n},fromJSDate:function(a){return this.newDate(a.getFullYear(),a.getMonth()+1,a.getDate())}}),r.calendars=new a,r.calendars.cdate=e,r.calendars.baseCalendar=n,r.calendars.calendars.gregorian=i}(jQuery);